(()=>{var t,e={238:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>c});var r=o(635);const i=require("obsidian");var n=o(898),l=o(366);const a=[{urlPatterns:["tistory.com"],fetch:t=>(0,r.sH)(void 0,void 0,void 0,(function*(){return(t=>(0,r.sH)(void 0,void 0,void 0,(function*(){return(yield(0,i.requestUrl)({url:t,headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"ko-KR,ko;q=0.8,en-US;q=0.5,en;q=0.3","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko)"}})).text})))(t)})),titleSetting:{selector:"meta[property='og:title']",attribute:"content"},propertySettings:[{key:"author",selector:"meta[property='tistory:author']",attribute:"content"},{key:"published",selector:"meta[property='article:published_time']",attribute:"content"},{key:"description",selector:"meta[property='og:description']",attribute:"content"},{key:"tags",callback:()=>["clipping/blog/tistory"]},{key:"clipped",callback:()=>(0,n.Ec)()}],contentSetting:{selector:".tt_article_useless_p_margin",remove:["script","style"],callback:t=>(0,l.iT)(t)},htmlHook:(t,e,o,r)=>({title:e,properties:o,content:r})}];class c extends i.Plugin{onload(){return(0,r.sH)(this,void 0,void 0,(function*(){this.addRibbonIcon("clipboard-list","URL to Markdown",(()=>(0,r.sH)(this,void 0,void 0,(function*(){try{const t=yield navigator.clipboard.readText();if(!t.startsWith("http"))return void new i.Notice("클립보드에 유효한 URL이 없습니다.");const e=yield(t=>a.find((e=>e.urlPatterns.some((e=>t.includes(e))))))(t);if(!e)return void new i.Notice("지원하지 않는 URL 형식입니다.");const o=yield((t,e)=>(0,r.sH)(void 0,void 0,void 0,(function*(){var o,r,i;if(!e)throw new Error("패턴을 찾을 수 없습니다");const a=yield e.fetch(t),c=new l.iP(a);if(!(null===(o=e.titleSetting)||void 0===o?void 0:o.selector)||!(null===(r=e.contentSetting)||void 0===r?void 0:r.selector))throw new Error("필수 선택자가 없습니다");let s=c.value(e.titleSetting.selector,e.titleSetting.attribute);e.titleSetting.callback&&(s=e.titleSetting.callback(s)),s=e.titleSetting.sanitize?e.titleSetting.sanitize(s):(0,n.rh)(s);const d=c.json(null!==(i=e.propertySettings)&&void 0!==i?i:[]),p=c.find(e.contentSetting.selector);if(!p.length)throw new Error("내용을 찾을 수 없습니다");if(e.contentSetting.remove)for(const t of e.contentSetting.remove)p.remove(t);let u=c.html(p);e.contentSetting.callback&&(u=e.contentSetting.callback(u));let v={title:s,properties:d,content:u};return e.htmlHook&&(v=e.htmlHook(t,s,d,u)),v})))(t,e);if(!o)return void new i.Notice("데이터를 추출할 수 없습니다.");const{title:c,properties:s,content:d}=o,p=((t,e,o,r,i)=>{let n=(0,l.QU)(o);i.makeMdFrontmatter&&(n=i.makeMdFrontmatter(t,e,o,r));let a=(0,l.fn)(r),c="";return i.makeMdContent&&(a=i.makeMdContent(t,e,o,r,"")),c=i.markdownHook?i.markdownHook(t,e,n,a,""):`${n}\n${a}`,c})(t,c,s,d,e),u=`${c}.md`;if(this.app.vault.getAbstractFileByPath(u)instanceof i.TFile){if(!(yield this.app.vault.adapter.exists(u)))return void new i.Notice("같은 이름의 파일이 이미 존재합니다.")}yield this.app.vault.create(u,p),new i.Notice("마크다운 파일이 생성되었습니다.")}catch(t){console.error("Error:",t),new i.Notice(`오류가 발생했습니다: ${t.message}`)}})))),this.addCommand({id:"url-to-markdown",name:"URL을 마크다운으로 변환",callback:()=>(0,r.sH)(this,void 0,void 0,(function*(){const t=this.app.workspace.containerEl.querySelector(".ribbon-url-to-markdown");t&&t.click()}))})}))}onunload(){}}},537:()=>{},626:()=>{},188:()=>{},683:()=>{},156:()=>{},340:()=>{},838:()=>{}},o={};function r(t){var i=o[t];if(void 0!==i)return i.exports;var n=o[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.m=e,t=[],r.O=(e,o,i,n)=>{if(!o){var l=1/0;for(d=0;d<t.length;d++){for(var[o,i,n]=t[d],a=!0,c=0;c<o.length;c++)(!1&n||l>=n)&&Object.keys(r.O).every((t=>r.O[t](o[c])))?o.splice(c--,1):(a=!1,n<l&&(l=n));if(a){t.splice(d--,1);var s=i();void 0!==s&&(e=s)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[o,i,n]},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={792:0};r.O.j=e=>0===t[e];var e=(e,o)=>{var i,n,[l,a,c]=o,s=0;if(l.some((e=>0!==t[e]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)var d=c(r)}for(e&&e(o);s<l.length;s++)n=l[s],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(d)},o=self.webpackChunkjop_web=self.webpackChunkjop_web||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var i=r.O(void 0,[63],(()=>r(238)));i=r.O(i);var n=exports;for(var l in i)n[l]=i[l];i.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();